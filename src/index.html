<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ice-cream</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/modern-normalize/1.0.0/modern-normalize.min.css"
      integrity="sha512-ISS7cAi1PEhQ8jnbJpJZMd29NlhNj4AWYyLOSp2CE/CsHxTCu+r+t0D2yoJudVrd0/8fTVPUVDzY5Tvli75u/g=="
      crossorigin="anonymous"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Titan+One&display=swap" rel="stylesheet" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./css/main.min.css" />
    <link rel="icon" type="image/x-icon" href="./images/favicon.ico" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
      crossorigin="anonymous"
    />
  </head>
  <body onload="load()">
    <!-- Так добавляются фрагменты в главные HTML-файлы страниц. -->

    <include src="./partials/header.html"></include>

    <main>
      <include src="./partials/hero.html"></include>
      <include src="./partials/prod.html"></include>
      <include src="./partials/about.html"></include>

      <include src="./partials/advantages.html"></include>

      <include src="./partials/gallery.html"></include>

      <include src="./partials/clients.html"></include>
      <include src="./partials/contact.html"></include>
    </main>
    <include src="./partials/footer.html"></include>
    <include src="./partials/buynow.html"></include>
    <include src="./partials/franchise.html"></include>
    <include src="./partials/locations.html"></include>
    <!-- Скрипт идёт последним в разметке. В нём уже подключен главный SASS-файл. -->

    <script src="https://unpkg.com/swiper@7/swiper-bundle.min.js"></script>
    <script src="./js/modal-about.js"></script>

    <script src="./index.js"></script>

    <script>
      function animate(obj, initVal, lastVal, duration) {
        let startTime = null;

        //get the current timestamp and assign it to the currentTime variable
        let currentTime = Date.now();

        //pass the current timestamp to the step function
        const step = currentTime => {
          //if the start time is null, assign the current time to startTime
          if (!startTime) {
            startTime = currentTime;
          }

          //calculate the value to be used in calculating the number to be displayed
          const progress = Math.min((currentTime - startTime) / duration, 1);

          //calculate what to be displayed using the value gotten above
          obj.innerHTML = Math.floor(progress * (lastVal - initVal) + initVal);

          //checking to make sure the counter does not exceed the last value (lastVal)
          if (progress < 1) {
            window.requestAnimationFrame(step);
          } else {
            window.cancelAnimationFrame(window.requestAnimationFrame(step));
          }
        };

        //start animating
        window.requestAnimationFrame(step);
      }

      let text1 = document.getElementById('0101');
      let text2 = document.getElementById('0102');
      let text3 = document.getElementById('0103');
      let text4 = document.getElementById('0104');
      let text5 = document.getElementById('0105');

      const load = () => {
        animate(text1, 0, 16, 1500);
        animate(text2, 0, 23, 1500);
        animate(text3, 0, 721, 1500);
        animate(text4, 0, 21, 1500);
        animate(text5, 0, 84, 1500);
      };
    </script>
  </body>
</html>
